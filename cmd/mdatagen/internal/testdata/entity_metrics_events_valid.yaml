type: sample
status:
  class: receiver
  stability:
    stable: [metrics]

resource_attributes:
  host.id:
    description: The unique host identifier
    type: string
    enabled: true
  host.name:
    description: The hostname
    type: string
    enabled: true
  process.pid:
    description: The process identifier
    type: int
    enabled: true

entities:
  - type: host
    brief: A host instance.
    stability: stable
    identity:
      - ref: host.id
    description:
      - ref: host.name
  - type: process
    brief: A process instance.
    stability: stable
    identity:
      - ref: process.pid

attributes:
  test.attr:
    description: Test attribute
    type: string

metrics:
  host.cpu.time:
    enabled: true
    description: Host CPU time
    unit: s
    sum:
      value_type: int
      monotonic: true
      aggregation_temporality: cumulative
    stability: stable
    entity: host
    attributes: [test.attr]

  process.cpu.time:
    enabled: true
    description: Process CPU time
    unit: s
    sum:
      value_type: int
      monotonic: true
      aggregation_temporality: cumulative
    stability: stable
    entity: process
    attributes: [test.attr]

events:
  host.restart:
    enabled: true
    description: Host restart event
    entity: host
    attributes: [test.attr]

  process.start:
    enabled: true
    description: Process start event
    entity: process
    attributes: [test.attr]
